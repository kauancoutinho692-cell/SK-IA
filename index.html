# ============================================================
# IA AGENTE ULTRA++ ‚Äî TODAS AS CAMADAS ATIVAS
# ============================================================

import sqlite3
import datetime
import uuid
import random
import os

def now():
    return datetime.datetime.now().strftime("%d/%m/%Y %H:%M:%S")

BASE_DIR = os.path.dirname(os.path.abspath(__file__))
DB_PATH = os.path.join(BASE_DIR, "ia_ultra_plus.db")

db = sqlite3.connect(DB_PATH)
c = db.cursor()

c.execute("""
CREATE TABLE IF NOT EXISTS leads (
    id TEXT PRIMARY KEY,
    score INTEGER,
    nivel TEXT,
    personalidade TEXT,
    ultima_interacao TEXT
)
""")

c.execute("""
CREATE TABLE IF NOT EXISTS logs (
    id TEXT,
    role TEXT,
    message TEXT,
    data TEXT
)
""")

db.commit()

PRODUCTS = {
    "basico": {"nome": "Guia Do Zero ao Primeiro Pix", "preco": 5.99},
    "premium": {"nome": "Projeto Renda Digital + IA", "preco": 15.00}
}

def detect_intent(text):
    t = text.lower()
    if any(x in t for x in ["pre√ßo", "valor", "quanto"]): return "PRICE"
    if any(x in t for x in ["funciona", "vale", "confio"]): return "DOUBT"
    if any(x in t for x in ["comprar", "pix", "quero"]): return "BUY"
    if any(x in t for x in ["depois", "agora n√£o"]): return "BLOCK"
    return "CHAT"

def lead_score(intent):
    return {"BUY":30,"PRICE":20,"DOUBT":10,"CHAT":5,"BLOCK":2}.get(intent,0)

class SalesAgent:
    def respond(self, intent):
        if intent == "PRICE": return "Tenho duas op√ß√µes: R$5,99 ou R$15,00 com IA."
        if intent == "DOUBT": return "Funciona pra quem aplica."
        if intent == "BUY": return "Perfeito. Te mando o link?"
        if intent == "BLOCK": return "Entendo, mas continuar parado custa mais."
        return "O que mais te trava hoje?"

class IAUltraPlus:
    def __init__(self):
        self.id = str(uuid.uuid4())
        self.score = 0

        c.execute("""
        INSERT OR IGNORE INTO leads VALUES (?, ?, ?, ?, ?)
        """,(self.id,0,"iniciante","normal",now()))
        db.commit()

    def handle(self, msg):
        intent = detect_intent(msg)
        self.score += lead_score(intent)
        c.execute("UPDATE leads SET score=? WHERE id=?",(self.score,self.id))
        db.commit()
        return SalesAgent().respond(intent)

def main():
    ia = IAUltraPlus()
    print("IA: Fala, tudo certo?")
    while True:
        msg = input("Cliente: ")
        if msg.lower() in ["sair","exit"]:
            break
        print("IA:", ia.handle(msg))

if __name__ == "__main__":
    main()
*.db
__pycache__/
.env
# IA Ultra Plus ü§ñ

IA de vendas autom√°tica com lead scoring e copy persuasiva.

## Como rodar
```bash
python main.py

---

## ‚úÖ 4Ô∏è‚É£ Estrutura da pasta (igual no GitHub)


---

## ‚úÖ 5Ô∏è‚É£ Comandos para subir no GitHub

```bash
git init
git add .
git commit -m "IA Ultra Plus pronta"
git branch -M main
git remote add origin https://github.com/SEUUSUARIO/ia-ultra-plus.git
git push -u origin main
